const t={},n=[],e=/^aria[\-A-Z]/,o={};function r(t,n){return function t(n,e,o){if(!n)return e;for(let r=0;r<n.length;r++){const i=n[r];Array.isArray(i)?t(i,e,o):e.push(o?o(i):i)}return e}(t,[],n)}const i=t.hasOwnProperty,s=t.constructor.assign||function(t){for(let n=1;n<arguments.length;n++){const e=arguments[n];for(const n in e)i.call(e,n)&&(t[n]=e[n])}return t},c=function(){};function l(e,o){if(null==e||"boolean"==typeof e)return null;let i;null==o&&(o=t);const s=o.ref,c=o.key;let l;return null!=(o=a(o)).children?l=r([o.children]):(i=n.slice.call(arguments,2)).length&&(l=r(i)),o.children=l,d(e,o,c,s)}const u={key:1,ref:1};function a(t){const n={};for(const e in t)u[e]||(n[e]=t[e]);return n}function p(t){return null==t||"boolean"==typeof t?l(o):"string"==typeof t||"number"==typeof t?d(null,String(t)):Array.isArray(t)?l(c,null,t):null!=t._dom?d(t.type,t.props,t.key):t}function d(t,n,e,o){return{type:t,props:n,key:e,ref:o,_dom:null,_children:null,_component:null,_renders:null,_renderedBy:null,_parentDom:null,_depth:0,constructor:void 0}}const f="undefined"!=typeof Promise,m=f?Promise.prototype.then.bind(Promise.resolve()):t=>setTimeout(t),h="function"==typeof requestAnimationFrame,_={hookSetup:c,diffed:c};function y(t,n){let e=_[t];e===c&&(e=null),_[t]=function(){e&&e.apply(0,arguments),n.apply(0,arguments)}}const b={scheduleRender:h?t=>requestAnimationFrame(t):m,eagerlyHydrate:!0,RAF_TIMEOUT:100,effectDebounce:null};function g(t,n,e){!function(t,n,e){D(t,n,e,"_renders")}(t,n,e),N(t,n,e)}const S={_dom:"_FragmentDomNodeChildren",_FragmentDomNodeChildren:"_dom"};function D(t,n,e,o){let r=t;const i=S[n];for(;r;)i&&(r[i]=null),r[n]=e,r=r[o]}function v(n,e){if(e===t||null==n||null==e)return;const o=e._prevSibDomVNode;null==n._prevSibDomVNode&&null!=o&&(g(n,"_prevSibDomVNode",o),g(o,"_nextSibDomVNode",n));const r=e._nextSibDomVNode;null==n._nextSibDomVNode&&null!=r&&(g(n,"_nextSibDomVNode",r),g(r,"_prevSibDomVNode",n))}function N(t,n,e){D(t,n,e,"_renderedBy")}const V={value:1,checked:1},x={key:1,ref:1,children:1};function C(t,n,e){e=e||"";const o=t.style;if("string"==typeof(n=n||""))return void(o.cssText=n);const r="string"==typeof e;if(r)o.cssText="";else for(const t in e)null==n[t]&&(o[t]="");for(const t in n){const i=n[t];(r||i!==e[t])&&(o[t]=i)}}const k=t=>t.trim();function U(t,n,e,o){const r=Array.isArray;r(n)&&(n=k(n.join(" "))),r(e)&&(e=k(e.join(" "))),n!==e&&o.batch.push({node:t,action:1,attr:"className",value:n})}function P(t,n,o){if("o"===n[0]&&"n"===n[1])return function(t,n,e){n=n.substr(2).toLowerCase(),null==e&&(t.removeEventListener(n,w),delete t._events[n]),t.addEventListener(n,w),t._events[n]=e}(t,n,o);const r=null==o||!1===o&&!e.test(n);return n in t?t[n]=r?"":o:r?t.removeAttribute(n):t.setAttribute(n,o)}function w(t){return this._events[t.type].call(this,t)}function A(t){if(null==t)return;const n=t.parentNode;n&&n.removeChild(t)}function F(t){const n=t._dom;let e=t._nextSibDomVNode;if(null==e){const t=n.nextSibling;null!=t&&(e=t._VNode)}g(e,"_prevSibDomVNode",t),g(t,"_nextSibDomVNode",e);let o=t._prevSibDomVNode;if(null==o){const t=n.previousSibling;null!=t&&(o=t._VNode)}g(o,"_nextSibDomVNode",t),g(t,"_prevSibDomVNode",o)}const E=[],T=[];function L(t){let n;for(;n=t.pop();)M(n)}function R(t){const n=t.name;return"componentDidMount"===n?E.push(t):"componentDidUpdate"===n?T.push(t):void M(t)}function M(t){const n=t.name,e=t.bind,o=e[n];if(e._lastLifeCycleMethod=n,!o)return;const r=t.args,i="function"==typeof e.componentDidCatch,s=()=>o.apply(e,r);if(f)m(s).catch(t=>{if(!i)throw t;e.componentDidCatch(t)});else try{s()}catch(t){if(i)return e.componentDidCatch(t);throw t}}function q(t){!function(t){const n=t.length;for(let e=0;e<n;e++){const n=t[e],o=n.node,r=n.refDom,i=n.value,s=n.VNode;switch(n.action){case 4:r.appendChild(o),F(s);break;case 5:i.insertBefore(o,r),F(s);break;case 1:P(o,n.attr,i);break;case 3:C(o,i.newValue,i.oldValue);break;case 2:A(o)}}}(t),_.diffed(),L(E),L(T)}const H=[];class O{constructor(t){this.state={},this.props=t}render(t,n){return null}setState(t){if(this._oldState=s({},this.state),this._nextState=s({},this._nextState||this.state),"function"==typeof t){const n=t(this._nextState,this.props);if(null==n)return;s(this._nextState,n)}else s(this._nextState,t);var n;(n=this)._dirty=!0,1===H.push(n)&&b.scheduleRender(B)}forceUpdate(t){if(null==this._VNode)return;const n=[],e=!1!==t;tt(this._VNode,s({},this._VNode),this._VNode._parentDom,e,{depth:this._depth,batch:n}),"function"==typeof t&&t(),q(n)}}function B(){let t;for(H.sort((t,n)=>t._depth-n._depth);t=H.pop();)t._dirty&&(t._dirty=!1,t.forceUpdate(!1))}function I(t,n){t&&("function"==typeof t?t(n):t.current=n)}function W(n,e,o){const r=n.ref,i=(e||t).ref;r&&r!==i&&(I(r,o),i&&I(e.ref,null))}function $(){return{current:null}}const K=t=>"function"==typeof t&&t!==c;function j(t){return this.constructor(t)}const Z={_nextSibDomVNode:1,_prevSibDomVNode:1};function z(e,r,i,s){if(e.type===o)return;const u=e._children||n,a=(r||t)._children||n;return u!==a?function(n,e,r,i,s){const u=n.type===c,a=e.length,p=Math.max(a,r.length);for(let c=0;c<p;c++){const p=e[c]||(c<a?l(o):null);let d=r[c]||t;if(v(p,d),p&&null==p._nextSibDomVNode){const t=u?n._nextSibDomVNode:null;null!=t&&N(p,"_nextSibDomVNode",t)}tt(p,d,i,!1,s),u&&null!=p&&G(n,p,c)}if(u&&a){const t=n._children;N(n,"_nextSibDomVNode",t[a-1]._nextSibDomVNode),N(n,"_prevSibDomVNode",t[0]._prevSibDomVNode)}}(e,u,a,i,s):void 0}function G(t,n,e){const o=n&&(n._dom||n._FragmentDomNodeChildren);let r=t._FragmentDomNodeChildren;null==r&&(r=[],N(t,"_FragmentDomNodeChildren",r)),r[e]=o}function J(n,e){if(null==n||n===t)return;I(n.ref,null),J(n._renders,e);const o=n._component;let r;null!=o&&(o.setState=c,o.forceUpdate=c,o._VNode=null,R({name:"componentWillUnmount",bind:o}));const i=n._children;if(i)for(;i.length;)r=i.pop(),J(r,e);!function(t,n){if("function"!=typeof t.type){const e=t._dom;null!=e&&(function(t){Y(Q,t)}(e),n.batch.push({node:e,action:2}))}!function(t){if(null==t)return;let n=t._nextSibDomVNode;if(null!=n){const t=n._dom,e=t&&t.previousSibling;g(n,"_prevSibDomVNode",e&&e._VNode)}const e=t._prevSibDomVNode;if(null!=e){const t=e._dom,n=t&&t.nextSibling;g(e,"_nextSibDomVNode",n&&n._VNode)}Y(X,t)}(t)}(n,e)}const Q={_VNode:1,_events:1},X={_children:1,_component:1,_depth:1,_dom:1,_renderedBy:1,_renders:1,_parentDom:1,key:1,ref:1,_nextSibDomVNode:1,_prevSibDomVNode:1,_FragmentDomNodeChildren:1};function Y(t,n){if(null!=n)for(const e in t)n[e]=null}function tt(n,e,i,l,u){if(null==n||"boolean"==typeof n)return void J(e,u);if(!((a=n)&&void 0===a.constructor||(console.warn("component not of expected type =>",a),0)))return null;var a;if(e===n)return n._dom;let d=(e=e||t).type,f=n.type,m=K(f);f===d&&m&&(n._component=e._component),n._parentDom=i,f!==d&&(J(e,u),e=t);const h=n;if("string"!=typeof n.props&&f!==o&&(n=function(n,e,o,r){let i;if(null!=n&&K(i=n.type)){let c;return e=e||t,c=function(t){const n=t.prototype;return!(!n||!n.render)}(i)?function(n,e,o,r){let i;const c=n.type;let l=n._component;const u=null!=l;if(u){if(i="componentDidUpdate",null!=l.shouldComponentUpdate&&!o&&!1===l.shouldComponentUpdate(n.props,l._nextState||l.state))return t}else i="componentDidMount",l=new c(n.props),n._component=l,l._depth=++r.depth;l._VNode=n;const a=l._oldState,d=e.props;R({bind:l,name:u?"componentWillUpdate":"componentWillMount",args:u?[n.props,l._nextState]:null}),l.state=function(n,e,o){const r=s({},n.state||t,n._nextState||t),i=function(t,n,e){const o=t.getDerivedStateFromProps;return null!=o?s({},o(n,e)):null}(e,o.props,r);return i&&s(r,i),r}(l,c,n),l._oldState=null,l._nextState=null,l.props=n.props;const f=p(l.render(l.props,l.state));return R({bind:l,name:i,args:"componentDidUpdate"===i?[d,a]:[]}),W(n,e,l),f}(n,e,o,r):function(t,n){let e;const o=t.type;let r;return t._component?r=t._component:(r=new O(t.props),t._component=r,r.render=j,r.constructor=o,r.props=t.props,r._depth=++n.depth),r._VNode=t,_.hookSetup(r),e=p(r.render(t.props)),_.hookSetup(null),e}(n,r),function(t,n){n._renders=t,t._renderedBy=n;for(const e in Z)t[e]=n[e]}(c,n),c}return n}(n,e,l,u)),K(e.type)&&(e=e._renders),n!==h){if(n===t)return;return tt(n,e,i,l,u)}let y;return n._children=function(t){let n=t.props.children;if(t.type!==c){if(null==n)return[]}else n&&!n.length&&(n=null);return r([n],p)}(n),d=e.type,f=n.type,f===c?z(n,e,i,u):(d!==f&&(e=null),function(n,e,r,i){const s=(e=e||t)===t;let c;const l=e._dom;c=n.type!==e.type||null==l?function(t){if("string"==typeof t.props)return document.createTextNode("");{const n=t.type;if(n===o)return document.createComment("$");const e=document.createElement(n);return e._events={},e}}(n):l,c._VNode=n,N(n,"_dom",c),function(n,e,r,i){if(e.type===o)return;if(r=r||t,"string"==typeof e.props)return function(t,n,e){return n===e||(t.nodeValue=n)}(n,e.props,r.props);const s=r.props,c=e.props;null!=s&&function(t,n,e,o){for(const r in n)null==e[r]&&null!=n[r]&&o.batch.push({node:t,action:1,attr:r})}(n,s,c,i),function(t,n,e,o){for(let r in e){if(r in x)continue;let i=e[r],s=V[r]?t[r]:n[r];i!==s&&(r="class"===r?"className":r,"className"!==r?o.batch.push("style"!==r?{node:t,action:1,attr:r,value:i}:{node:t,action:3,value:{newValue:i,oldValue:s}}):U(t,i,s,o))}}(n,s||t,c,i)}(c,n,s?null:e,i),function t(n,e){n&&(null!=n._component?n._component.base=e:t(n._renderedBy,e))}(n,c),s&&function(t,n,e){const o=t._dom;if(!o)return;const r=function(t){if(!t)return;const n=t._dom;if(n)return n;const e=t._FragmentDomNodeChildren;return e?function t(n){for(let e=0;e<n.length;e++){const o=n[e];if(Array.isArray(o)){const n=t(o);if(n)return n}else if(o)return o}}(e):void 0}(t._nextSibDomVNode);let i,s=!0;r&&r!==o&&(s=!1,i=r),e.batch.push(!s&&i?{node:o,action:5,refDom:i,value:n,VNode:t}:{node:o,action:4,refDom:n,VNode:t})}(n,r,i)}(n,e,i,u),y=n._dom,z(n,e,y,u),W(n,e,y)),y}function nt(t,n){const e=l(c,void 0,[t]);n.hasChildNodes()&&function(t){let n;for(;n=t.firstChild;)t.removeChild(n)}(n);const o=[];tt(e,void 0,n,!1,{depth:0,batch:o}),q(o)}const et=["boolean","string","number"];function ot(t,n){return null==t||et.indexOf(typeof t)>-1||void 0===t.constructor?t:l(t,n)}class rt extends O{componentDidMount(){this._init()}componentDidUpdate(t){(t&&(t.promise||t.componentPromise))!==(this.props.promise||this.props.componentPromise)&&this._init()}_init(){this.setState({inProgress:!0}),(this.props.promise||this.props.componentPromise)().then(t=>{this.setState({render:t,inProgress:!1})}).catch(t=>this.setState({error:!0,inProgress:!1}))}render(t,n){return n.inProgress?ot(t.fallback||t.fallbackComponent)||"Loading":n.error?ot(t.errorComponent)||"An Error Occured":ot(n.render,function(t,n){n=r([n]);const e={};for(const o in t)-1===n.indexOf(o)&&(e[o]=t[o]);return e}(t,["fallback","fallbackComponent","promise","componentPromise"]))}}const it=/\/+$/;function st(t){return 1===t.length?t:t.replace(it,"")}const ct=[],lt={subscribe(t){ct.includes(t)||ct.push(t)},unsubscribe(t){for(let n=0;n<ct.length;n++)if(ct[n]===t)return ct.splice(n,1)},emit(t,n){for(const e of ct)e(t,n)},unsubscribeAll(){ct.length=0}};function ut(t){window.history.pushState(null,"",t),lt.emit(t,{type:"load",native:!1})}function at(t){window.history.replaceState(null,"",t),lt.emit(t,{type:"redirect",native:!1})}class pt extends O{constructor(t){super(t),this.state={},this._routeChangeHandler=this._routeChangeHandler.bind(this)}static __emitter(){lt.emit(pt.path+pt.qs,{type:"popstate",native:!0})}static get path(){return location.pathname}static get qs(){return location.search}static get searchParams(){return new URLSearchParams(pt.qs)}static _getParams(t,n){const e={};for(const o in t)e[t[o]]=decodeURIComponent(n[o]);return e}static getCurrentParams(t){const n=(t=dt(t)).params,e=t.regex.exec(pt.path);return e?pt._getParams(n,e):{}}componentDidMount(){lt.subscribe(this._routeChangeHandler),window.addEventListener("popstate",pt.__emitter),this._routeChangeHandler(null)}componentWillUnmount(){window.removeEventListener("popstate",pt.__emitter),lt.unsubscribe(this._routeChangeHandler)}_notFoundComponent(){return l("div",null,`The Requested URL "${pt.path}" was not found`)}_routeChangeHandler(t){const n=st(pt.path);let e=[];this.props.children.forEach(t=>{const o=dt(t.props.match),r=o.regex.exec(n);if(r){const n=t.props,i=pt._getParams(o.params,r);e.push(ot(n.component,s({},t.props,{params:i})))}}),e.length||(e=l(this.props.fallbackComponent||this._notFoundComponent)),this.setState({child:e})}render(t,n){return l(c,null,n.child)}}function dt(t){if(null!=t.regex)return t;t=st(t);const n={};let e=0;return{regex:(o=t.split("/").map(t=>":"===t[0]?(n[++e]=t.substr(1),"([^?\\/]+)"):t).join("/"),RegExp(`^${o}(/?)$`)),params:n};var o}function ft(t){if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return;t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault();const n=new URL(this.href,location.href);ut(n.pathname+n.search+n.hash)}function mt(t){return null!=t.href&&(t.onClick=ft),l("a",t)}const ht={};function _t(t,n){return!t||n.some((n,e)=>n!==t[e])}function yt(t,n,e){return t[n]||(t[n]=bt(0,e))}function bt(t,n){return"function"==typeof n?n(t):n}let gt=0,St=null;const Dt=[];function vt(t){const n=t.cleanUp;"function"==typeof n&&(n(),t.cleanUp=null)}function Nt(t){let n=t.cb;n&&"function"==typeof(n=n())&&(t.cleanUp=n),t.cb=null}function Vt(){Dt.forEach(t=>{for(const e in t)(n=t[e]).resolved||vt(n),Nt(n);var n}),Dt.length=0}const xt=b.effectDebounce||(h?function(t){const n=()=>{cancelAnimationFrame(e),clearTimeout(o),t()};let e,o;o=setTimeout(n,b.RAF_TIMEOUT),e=requestAnimationFrame(n)}:m);function Ct(){return[St,gt++]}function kt(t,n){const e=Ct(),o=e[1],r=e[0]._hooksData;let i=r[o]||{};return _t(i.args,n)?(r[o]=null,i=yt(r,o,()=>({hookState:t()})),i.args=n,i.hookState):i.hookState}function Ut(t,n){return kt(()=>t,n)}function Pt(t){return kt(()=>({current:t}),[])}function wt(){const n=this._pendingEffects;for(const e in n||t)vt(n[e]);this._pendingEffects=null}function At(t,n){const e=Ct(),o=e[0],r=e[1],i=o._hooksData,s={};let c=i[r]||s;const l=o._pendingEffects=o._pendingEffects||s,u=l[r];if(!_t(c.args,n))return void(u&&(u.resolved=!0));c=yt(i,r,s),c.args=n;const a=u?Nt(u)||u.cleanUp:null;var p;l[r]={cb:t,cleanUp:a},-1===Dt.indexOf(p=l)&&Dt.push(p),o.componentWillUnmount=wt}function Ft(t,n,e){const o=Ct(),r=o[0],i=yt(r._hooksData,o[1],()=>({hookState:e?e(n):bt(void 0,n)}));return i.args=t,[i.hookState,t=>{const n=i.args(i.hookState,t);i.hookState=n,r.setState({})}]}function Et(t){return Ft(bt,t)}y("hookSetup",function(t){St=t,gt=0,t&&(t._hooksData||(t._hooksData=[]))}),y("diffed",function(){xt(Vt)});export default O;export{mt as A,rt as AsyncComponent,O as Component,c as Fragment,ht as Path,pt as Router,lt as RouterSubscription,b as config,l as createElement,$ as createRef,dt as createRoutePath,l as h,ut as loadURL,at as redirect,nt as render,Ut as useCallback,At as useEffect,kt as useMemo,Ft as useReducer,Pt as useRef,Et as useState};
//# sourceMappingURL=ui-lib.modern.js.map
